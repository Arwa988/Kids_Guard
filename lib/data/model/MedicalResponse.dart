class MedicalData {
  String? id;
  String? title;
  String? image;
  String? content;
  String? source;
  String? url;

  MedicalData({
    this.id,
    this.title,
    this.image,
    this.content,
    this.source,
    this.url,
  });

  // ✅ العناوين العربية (بناءً على البيانات اللي بعتيها)
  String get titleAr {
    switch (id) {
      case "1": return "إرشادات متابعة الأطفال المصابين بأمراض القلب الخِلقية";
      case "2": return "دراسة حالة: التشخيص المبكر لفشل القلب لدى طفل عمره 7 سنوات";
      case "3": return "توصيات طبية محدثة لاضطرابات نظم القلب لدى الأطفال";
      case "4": return "دراسة حالة: التعافي بعد الجراحة لطفل مصاب برباعية فالو";
      case "5": return "إرشادات تنظيم النشاط البدني للأطفال المصابين بأمراض القلب";
      default: return title ?? "";
    }
  }

  // ✅ المحتوى العربي الكامل
  String get contentAr {
    switch (id) {
      case "1": return "تُعد المتابعة المنتظمة أمرًا أساسيًا للأطفال المصابين بأمراض القلب الخِلقية. يلتزم الأطباء بإرشادات محددة لمراقبة وظيفة القلب، والنمو، ومستويات الأكسجين. يحتاج معظم الأطفال إلى زيارات منتظمة كل 3 إلى 6 أشهر في السنوات الأولى، ثم مرة سنويًا إذا كانت الحالة مستقرة. تساعد فحوصات الإيكو في متابعة بنية القلب وتدفق الدم، بينما تُستخدم تخطيطات القلب (ECG) لمراقبة انتظام ضربات القلب. يجب على الأهل ملاحظة أعراض مثل التعب، أو سرعة التنفس، أو الإغماء. في الحالات المعقدة، قد تُستخدم تحاليل الدم والفحوصات التصويرية لتوجيه العلاج. الهدف هو اكتشاف أي تغييرات مبكرًا لتعديل الأدوية أو التخطيط للجراحة عند الحاجة. يضمن التواصل الواضح بين أطباء القلب، وأطباء الأطفال، والعائلات رعاية آمنة ومستمرة. اتباع هذه الخطوات يساعد الأطفال على العيش حياة أطول وأكثر صحة مع تقليل الحاجة إلى دخول المستشفى.";
      case "2": return "حضر طفل يبلغ من العمر 7 سنوات وهو يعاني من التعب، وضعف الشهية، وضيق في التنفس. أظهر الفحص السريري تسارعًا في ضربات القلب وتورمًا في الكاحلين. كشف فحص الإيكو أن البطين الأيسر متضخم ويضخ الدم بشكل ضعيف، مما أكد وجود فشل قلبي مبكر. بدأ الفريق الطبي العلاج باستخدام مدرات البول للتخلص من السوائل الزائدة ومثبطات الإنزيم المحول للأنجيوتنسين (ACE) لمساعدة القلب على الضخ بسهولة أكبر. خلال عدة أسابيع، تحسن تنفس الطفل ومستوى طاقته. كانت المتابعة المنتظمة والمراقبة المنزلية عاملين أساسيين في نجاح العلاج. توضح هذه الحالة أهمية التعرف المبكر على علامات فشل القلب عند الأطفال وبدء العلاج بسرعة. بفضل الطب الحديث والمتابعة الدقيقة، يمكن للعديد من الأطفال استعادة نشاطهم الطبيعي وتجنب المضاعفات الخطيرة.";
      case "3": return "تتراوح اضطرابات نظم القلب لدى الأطفال بين ضربات إضافية غير خطيرة واضطرابات خطيرة في النبض. توصي الإرشادات الحديثة بإجراء تخطيط القلب (ECG) للأطفال الذين يتعرضون للإغماء، أو يشعرون بخفقان، أو لديهم تاريخ عائلي للوفاة القلبية المفاجئة. يمكن لأجهزة الهولتر أو لصقات تخطيط القلب القابلة للارتداء تسجيل اضطرابات النبض على مدار الوقت. يعتمد العلاج على نوع الاضطراب؛ فبعض الأطفال يحتاجون فقط إلى المراقبة، بينما قد يستفيد آخرون من أدوية مثل حاصرات بيتا أو، في حالات نادرة، العلاج بالقسطرة. تشمل النصائح الحياتية تقليل الكافيين والتحكم في التوتر. يساعد التعاون بين أطباء القلب، والأهل، والمدارس الأطفال على العيش بأمان أثناء إدارة حالتهم. اتباع هذه التوصيات المحدثة يضمن الكشف المبكر والرعاية المناسبة.";
      case "4": return "خضع طفل يبلغ من العمر 5 سنوات مصاب برباعية فالو لعملية جراحية تصحيحية لإصلاح العيوب في بنية القلب. بعد الجراحة، تمت مراقبة الطفل عن كثب في وحدة العناية المركزة لمتابعة مستويات الأكسجين، ومنع العدوى، ومراقبة نظم القلب. خلال أسبوعين، تحسنت طاقة الطفل وعادت مستويات الأكسجين إلى المعدل الطبيعي. شملت خطة الرعاية علاجًا طبيعيًا خفيفًا ودعمًا نفسيًا للطفل ووالديه. بعد ستة أشهر، أظهرت الفحوصات الدورية أن وظيفة القلب جيدة. تُبرز هذه الحالة كيف يؤدي التدخل الجراحي المبكر، والرعاية الطبية المتخصصة، ومشاركة الأسرة إلى نتائج ممتازة. يتعافى معظم الأطفال بشكل جيد ويعودون إلى أنشطتهم الطبيعية مع قيود بسيطة فقط.";
      case "5": return "يُعد النشاط البدني ضروريًا للنمو، حتى لدى الأطفال المصابين بأمراض القلب. تشير الإرشادات الحديثة إلى أن معظم الأطفال يمكنهم ممارسة التمارين المعتدلة تحت إشراف طبي. تُعتبر أنشطة مثل المشي، والسباحة، وركوب الدراجات آمنة بشكل عام. قد يتم تقييد الرياضات العنيفة للأطفال الذين يعانون من اضطرابات نظم القلب الشديدة أو انخفاض مستويات الأكسجين. قبل بدء أي برنامج، يقوم الأطباء بتقييم وظيفة القلب ونظمه. تساعد المتابعة المنتظمة على ضمان السلامة. يجب على الأهل والمعلمين التعرف على علامات الخطر مثل التعب، أو ألم الصدر، أو الدوخة، والتصرف بسرعة. الهدف الأساسي هو تحقيق التوازن بين الأمان ونمط الحياة النشط. اتباع هذه الإرشادات يحافظ على قوة القلب ويدعم الصحة النفسية.";
      default: return content ?? "";
    }
  }

  // ✅ المصادر العربية
  String get sourceAr {
    switch (source) {
      case "American Heart Association": return "جمعية القلب الأمريكية";
      case "Mayo Clinic": return "مايو كلينك";
      case "National Heart, Lung, and Blood Institute": return "المعهد الوطني للقلب والرئة والدم";
      case "American Academy of Pediatrics": return "الأكاديمية الأمريكية لطب الأطفال";
      default: return source ?? "";
    }
  }

  MedicalData.fromJson(dynamic json) {
    id = json["id"]?.toString();
    title = json["title"];
    image = json["image"];
    content = json["content"];
    source = json["source"];
    url = json["url"];
  }

  Map<String, dynamic> toJson() {
    final map = <String, dynamic>{};
    map["id"] = id;
    map["title"] = title;
    map["image"] = image;
    map["content"] = content;
    map["source"] = source;
    map["url"] = url;
    return map;
  }
}

class MedicalResponse {
  List<MedicalData>? medicalDataList;
  String? statusMsg;
  String? message;

  MedicalResponse({this.medicalDataList, this.statusMsg, this.message});

  MedicalResponse.fromJson(dynamic json) {
    if (json is List) {
      medicalDataList = json.map((v) => MedicalData.fromJson(v)).toList();
      statusMsg = "success";
    } else if (json is Map<String, dynamic>) {
      statusMsg = json["statusMsg"]?.toString();
      message = json["message"]?.toString();
      final dataKey = json["data"] ?? json["MedicalData"] ?? json["Medical_Guidelines_CaseStudies"];
      if (dataKey is List) {
        medicalDataList = dataKey.map((v) => MedicalData.fromJson(v)).toList();
      }
    }
  }
}